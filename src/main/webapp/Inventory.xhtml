<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Assignment 2 - Stores</title>
	<h:outputStylesheet name="primeflex.css"/>
	<style type="text/css">
        p {
            line-height: 1.5;
            margin: 0;
        }
        h5 {
            font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,
            "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-size: 1rem;
            color: #495057;
            box-sizing: border-box;
            padding: 5px;
        }

        body .ui-panelgrid .ui-panelgrid-cell {
            border: none;
        }

        body .ui-panelgrid .ui-panelgrid-cell.ui-widget-header {
            border: none;
            text-decoration: underline;
        }


	</style>
</h:head>
<h:body>
	<h:link value="Back to stores" outcome="Stores.xhtml" />

	<h:form>

		<p:growl id="growl" showDetail="true"/>

		<!-- ============== DATA TABLE ============== -->
		<h5>Store inventory</h5>
		<p:dataTable var="inventory" value="#{inventoryBean.inventoryList}" sortMode="multiple" id="dtInventoryList">
			<p:column headerText="Item ID" sortBy="#{inventory.id}" sortOrder="asc" sortPriority="1">
				<h:outputText value="#{inventory.id}"/>
			</p:column>

			<p:column headerText="Item name" sortBy="#{inventory.name}">
				<h:outputText value="#{inventory.name}"/>
			</p:column>

			<p:column headerText="Sport" sortBy="#{inventory.sport}">
				<h:outputText value="#{inventory.sport}"/>
			</p:column>

			<p:column headerText="Quantity" sortBy="#{inventory.quantity}">
				<h:outputText value="#{inventory.quantity}"/>
			</p:column>

			<p:column headerText="Price" sortBy="#{inventory.price}">
				<h:outputText value="#{inventory.price}"/>
			</p:column>

			<p:column headerText="Date added" sortBy="#{inventory.addedDate}">
				<h:outputText value="#{inventory.addedDate}"/>
			</p:column>

			<p:column headerText="Date updated" sortBy="#{inventory.updatedDate}">
				<h:outputText value="#{inventory.updatedDate}"/>
			</p:column>

		</p:dataTable>



		<!-- ============== INPUT STUFF ============== -->
		<p:card style="margin: 2em;">
			<p:panelGrid>

				<p:row>
					<p:column><h:outputLabel for="txtId" value="Item ID"/></p:column>
					<p:column><p:inputText id="txtId" value="#{inventoryBean.id}"/></p:column>
				</p:row>

				<p:row>
					<p:column><h:outputLabel for="txtName" value="Item name"/></p:column>
					<p:column><p:inputText id="txtName" value="#{inventoryBean.name}"/></p:column>
				</p:row>

				<p:row>
					<p:column><h:outputLabel for="txtSport" value="Sport"/></p:column>
					<p:column><p:inputText id="txtSport" value="#{inventoryBean.sport}"/></p:column>
				</p:row>

				<p:row>
					<p:column><h:outputLabel for="txtQuantity" value="Quantity"/></p:column>
					<p:column><p:inputText id="txtQuantity" value="#{inventoryBean.quantity}"/></p:column>
				</p:row>

				<p:row>
					<p:column><h:outputLabel for="txtPrice" value="Price"/></p:column>
					<p:column><p:inputText id="txtPrice" value="#{inventoryBean.price}"/></p:column>
				</p:row>

				<p:row>
					<p:column><p:commandButton value="Add item" styleClass="ui-button-raised ui-button-flat"
											   actionListener="#{inventoryBean.addInventory}" update="dtInventoryList, growl" /></p:column>
					<p:column><p:commandButton value="Load from ID" styleClass="ui-button-raised ui-button-flat"
											   actionListener="#{inventoryBean.getInventory}" update="dtInventoryList, growl" >
						<f:ajax /></p:commandButton></p:column>
					<p:column><p:commandButton value="Clear" styleClass="ui-button-raised ui-button-flat"
											   actionListener="#{inventoryBean.clear}" update="@form" >
						<f:ajax /></p:commandButton></p:column>
				</p:row>

				<p:row>
					<p:column><p:commandButton value="Edit item" styleClass="ui-button-raised ui-button-flat"
											   actionListener="#{inventoryBean.updateInventory}" update="dtInventoryList, growl" /></p:column>
					<p:column><p:commandButton value="Delete item" styleClass="ui-button-raised ui-button-flat"
											   actionListener="#{inventoryBean.deleteInventory}" update="dtInventoryList, growl" >
						<f:ajax /></p:commandButton></p:column>
				</p:row>

			</p:panelGrid>


		</p:card>

	</h:form>
</h:body>
</html>
